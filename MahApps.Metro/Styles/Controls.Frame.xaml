<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Style x:Key="MetroFrame" TargetType="{x:Type Frame}">
        <!--  NOTE: original style taken from MetroNavigationWindow and adjusted as needed  -->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Frame}">
                    <!--  NOTE: border taken from original Frame template  -->
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <StackPanel x:Name="PART_Navigation"
                                        Grid.Row="0"
                                        Orientation="Horizontal">
                                <Button x:Name="PART_BackButton"
                                        Width="40"
                                        Height="40"
                                        VerticalAlignment="Bottom"
                                        Command="NavigationCommands.BrowseBack"
                                        DockPanel.Dock="Left"
                                        FontFamily="Segoe UI Symbol"
                                        FontSize="16"
                                        Style="{DynamicResource MetroCircleButtonStyle}"
                                        Visibility="Hidden">
                                    <Button.LayoutTransform>
                                        <ScaleTransform ScaleX="-1" />
                                    </Button.LayoutTransform>
                                    <Rectangle Width="20" Height="15">
                                        <Rectangle.Fill>
                                            <VisualBrush Stretch="Fill">
                                                <VisualBrush.Visual>
                                                    <Canvas Width="48"
                                                            Height="48"
                                                            Clip="F1 M 0,0L 48,0L 48,48L 0,48L 0,0"
                                                            UseLayoutRounding="False">
                                                        <Path Canvas.Left="12"
                                                              Canvas.Top="15"
                                                              Width="25"
                                                              Height="18"
                                                              Data="F1 M 12,22L 12,26L 28.25,26L 21,33L 27.5,33L 37,24L 27.5,15L 21,15L 28.25,22L 12,22 Z "
                                                              Fill="{DynamicResource BlackBrush}"
                                                              Stretch="Fill" />
                                                    </Canvas>
                                                </VisualBrush.Visual>
                                            </VisualBrush>
                                        </Rectangle.Fill>
                                    </Rectangle>
                                </Button>
                                <Label x:Name="PART_Title"
                                       Margin="0 5 0 0"
                                       Content="{Binding Content.(Page.Title),
                                                         ElementName=PART_FrameCP}"
                                       FontSize="25" />
                                <Button x:Name="PART_ForwardButton"
                                        Width="40"
                                        Height="40"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        Command="NavigationCommands.BrowseForward"
                                        DockPanel.Dock="Right"
                                        FontFamily="Segoe UI Symbol"
                                        FontSize="16"
                                        Style="{DynamicResource MetroCircleButtonStyle}"
                                        Visibility="Collapsed">
                                    <Rectangle Width="20" Height="15">
                                        <Rectangle.Fill>
                                            <VisualBrush Stretch="Fill">
                                                <VisualBrush.Visual>
                                                    <Canvas Width="48"
                                                            Height="48"
                                                            Clip="F1 M 0,0L 48,0L 48,48L 0,48L 0,0"
                                                            UseLayoutRounding="False">
                                                        <Path Canvas.Left="12"
                                                              Canvas.Top="15"
                                                              Width="25"
                                                              Height="18"
                                                              Data="F1 M 12,22L 12,26L 28.25,26L 21,33L 27.5,33L 37,24L 27.5,15L 21,15L 28.25,22L 12,22 Z "
                                                              Fill="{DynamicResource BlackBrush}"
                                                              Stretch="Fill" />
                                                    </Canvas>
                                                </VisualBrush.Visual>
                                            </VisualBrush>
                                        </Rectangle.Fill>
                                    </Rectangle>
                                </Button>
                            </StackPanel>

                            <ContentPresenter x:Name="PART_FrameCP"
                                              Grid.Row="1"
                                              Margin="3,0,3,0" />
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="CanGoBack" Value="True">
                            <Setter TargetName="PART_BackButton" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="CanGoBack" Value="False">
                            <Setter TargetName="PART_BackButton" Property="Visibility" Value="Hidden" />
                        </Trigger>
                        <Trigger Property="CanGoForward" Value="True">
                            <Setter TargetName="PART_ForwardButton" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="CanGoForward" Value="False">
                            <Setter TargetName="PART_ForwardButton" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="NavigationUIVisibility" Value="Visible">
                            <Setter TargetName="PART_Navigation" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="NavigationUIVisibility" Value="Hidden">
                            <Setter TargetName="PART_Navigation" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <!--
                            NOTE NavigationUIVisibility-Automatic triggers below are disabled
                            because we always want to see page title even if it should be collapsed.
                            It could be further enhanced by checking whether title is null and collapse if so.
                        -->
                        <!--
                            <MultiTrigger>
                            <MultiTrigger.Conditions>
                            <Condition Property="NavigationUIVisibility" Value="Automatic" />
                            <Condition Property="CanGoBack" Value="False" />
                            <Condition Property="CanGoForward" Value="False" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_Navigation" Property="Visibility" Value="Collapsed" />
                            </MultiTrigger>
                            <MultiTrigger>
                            <MultiTrigger.Conditions>
                            <Condition Property="NavigationUIVisibility" Value="Automatic" />
                            <Condition Property="CanGoBack" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_Navigation" Property="Visibility" Value="Visible" />
                            </MultiTrigger>
                            
                            <MultiTrigger>
                            <MultiTrigger.Conditions>
                            <Condition Property="NavigationUIVisibility" Value="Automatic" />
                            <Condition Property="CanGoForward" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_Navigation" Property="Visibility" Value="Visible" />
                            </MultiTrigger>
                        -->
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>